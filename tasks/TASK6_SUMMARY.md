# –ó–∞–¥–∞–Ω–∏–µ 6: CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ - –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

> üåç –î–æ–±–∞–≤–ª–µ–Ω CDN –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º  
> üè† [‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ README](../README.md) | üé® [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](../diagrams/ARCHITECTURE.md)

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### –°–æ–∑–¥–∞–Ω–∞ –°—Ö–µ–º–∞ 5: CDN (Content Delivery Network)

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—è—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è:
- **CDN —É–∑–ª—ã –≤ —Ç—Ä—ë—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö** (North America, Europe, Asia)
- **Static Content Server** –∫–∞–∫ origin –¥–ª—è CDN
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤**, –ø–æ–¥–∫–ª—é—á–∞—é—â–∏—Ö—Å—è –∫ –±–ª–∏–∂–∞–π—à–µ–º—É CDN
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**

**–§–∞–π–ª—ã:**
- `diagrams/05-sharding-replication-caching-gateway-cdn.mmd` - –∏—Å—Ö–æ–¥–Ω—ã–π Mermaid —Ñ–∞–π–ª
- `diagrams/ARCHITECTURE.md` - –æ–±–Ω–æ–≤–ª—ë–Ω —Å –°—Ö–µ–º–æ–π 5
- `diagrams/output/05-*.png` - –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω GitHub Actions

---

## üéØ –ó–∞—á–µ–º –Ω—É–∂–µ–Ω CDN

### –ü—Ä–æ–±–ª–µ–º–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏

**–°–∏—Ç—É–∞—Ü–∏—è (–°—Ö–µ–º–∞ 4):**
> –°–µ—Ä–≤–µ—Ä –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ "–ú–æ–±–∏–ª—å–Ω—ã–π –º–∏—Ä" –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–ú–æ—Å–∫–≤–µ**.
> - üá∑üá∫ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –ú–æ—Å–∫–≤—ã: –∑–∞–¥–µ—Ä–∂–∫–∞ ~5-10–º—Å ‚úÖ
> - üá∫üá∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –°–®–ê: –∑–∞–¥–µ—Ä–∂–∫–∞ ~150-200–º—Å ‚ùå
> - üá®üá≥ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –ö–∏—Ç–∞—è: –∑–∞–¥–µ—Ä–∂–∫–∞ ~250-300–º—Å ‚ùå
> - üáßüá∑ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –ë—Ä–∞–∑–∏–ª–∏–∏: –∑–∞–¥–µ—Ä–∂–∫–∞ ~300-400–º—Å ‚ùå

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∞–π—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω
- ‚ùå –ë–æ–ª—å—à–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –¥–æ–ª–≥–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚ùå –ü–ª–æ—Ö–æ–π UX –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
- ‚ùå –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ origin —Å–µ—Ä–≤–µ—Ä

**–†–µ—à–µ–Ω–∏–µ - CDN:**
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ä–∞–∑–º–µ—â—ë–Ω –≤ CDN —É–∑–ª–∞—Ö –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–ª–∏–∂–∞–π—à–µ–º—É CDN —É–∑–ª—É (5-20–º—Å)
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏
- ‚úÖ Origin —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑–≥—Ä—É–∂–µ–Ω (CDN –∫–µ—à–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç)

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°—Ö–µ–º—ã 5

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤—Å–µ–≥–æ 16 —Å–µ—Ä–≤–∏—Å–æ–≤ + CDN)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| **CDN Nodes** | 3 | –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –≤ —Ä–µ–≥–∏–æ–Ω–∞—Ö (US, EU, Asia) |
| **Static Content Server** | 1 | Origin –¥–ª—è CDN (nginx:8090) |
| API Gateway | 1 | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π API (port 80) |
| Consul | 1 | Service Discovery |
| pymongo-api | 3 | –ò–Ω—Å—Ç–∞–Ω—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| Redis | 1 | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ |
| mongos + shards | 10 | MongoDB –∫–ª–∞—Å—Ç–µ—Ä |
| **–í—Å–µ–≥–æ** | **16 + CDN** | |

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (—á–µ—Ä–µ–∑ CDN):**
```
/static/
‚îú‚îÄ‚îÄ index.html          # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îú‚îÄ‚îÄ styles.css      # –°—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ bootstrap.css
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ app.js          # JavaScript
‚îÇ   ‚îî‚îÄ‚îÄ jquery.min.js
‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îú‚îÄ‚îÄ logo.png        # –õ–æ–≥–æ—Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ products/       # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (–±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã!)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ phone1.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ phone2.jpg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ icons/          # –ò–∫–æ–Ω–∫–∏
‚îî‚îÄ‚îÄ fonts/              # –®—Ä–∏—Ñ—Ç—ã
```

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (—á–µ—Ä–µ–∑ API Gateway):**
```
/api/
‚îú‚îÄ‚îÄ /products           # –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–¥–∞–Ω–Ω—ã–µ –∏–∑ MongoDB)
‚îú‚îÄ‚îÄ /cart               # –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ /orders             # –ó–∞–∫–∞–∑—ã
‚îú‚îÄ‚îÄ /users              # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îî‚îÄ‚îÄ /auth               # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```

---

## üåç –ü–æ—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –°–®–ê –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

```
1. Client (USA) ‚Üí CDN US Node
   GET https://mobile-world.com/index.html

2. CDN US –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–µ—à:
   ‚îú‚îÄ Cache HIT ‚Üí –û—Ç–¥–∞—ë—Ç –∏–∑ –∫–µ—à–∞ (~10–º—Å) ‚úÖ
   ‚îî‚îÄ Cache MISS ‚Üì

3. CDN US ‚Üí Static Content Server (–ú–æ—Å–∫–≤–∞)
   GET https://origin.mobile-world.com/static/index.html
   (~150–º—Å –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)

4. Static Server ‚Üí CDN US
   –û—Ç–¥–∞—ë—Ç index.html

5. CDN US –∫–µ—à–∏—Ä—É–µ—Ç —Ñ–∞–π–ª (TTL: 24 —á–∞—Å–∞)

6. CDN US ‚Üí Client (USA)
   –û—Ç–¥–∞—ë—Ç index.html (~10–º—Å)

7. –ë—Ä–∞—É–∑–µ—Ä –ø–∞—Ä—Å–∏—Ç HTML –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã:
   - /static/css/styles.css     ‚Üí CDN US (cached, ~10–º—Å)
   - /static/js/app.js          ‚Üí CDN US (cached, ~10–º—Å)
   - /static/images/logo.png    ‚Üí CDN US (cached, ~10–º—Å)
   
   –í—Å—ë –∏–∑ –∫–µ—à–∞ CDN! –ë—ã—Å—Ç—Ä–æ! ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç)

```
8. –ë—Ä–∞—É–∑–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç JS:
   fetch('/api/products')

9. Client (USA) ‚Üí CDN US
   GET https://mobile-world.com/api/products

10. CDN US –≤–∏–¥–∏—Ç /api/* ‚Üí –Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç, –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –¥–∞–ª—å—à–µ

11. CDN US ‚Üí API Gateway (–ú–æ—Å–∫–≤–∞)
    –ü–µ—Ä–µ–¥–∞—ë—Ç –∑–∞–ø—Ä–æ—Å (~150–º—Å - –≤—Å–µ–≥–æ 1 —Ä–∞–∑ –∑–∞ —Å–µ—Å—Å–∏—é)

12. API Gateway ‚Üí pymongo-api-1/2/3 (Round Robin)
    
13. pymongo-api ‚Üí Redis (Cache Check)
    ‚îú‚îÄ Cache HIT ‚Üí –í–æ–∑–≤—Ä–∞—Ç –∏–∑ Redis (~5–º—Å)
    ‚îî‚îÄ Cache MISS ‚Üí MongoDB ‚Üí Redis ‚Üí –û—Ç–≤–µ—Ç

14. –û—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑:
    pymongo-api ‚Üí API Gateway ‚Üí CDN US ‚Üí Client

–ò—Ç–æ–≥–æ:
- –°—Ç–∞—Ç–∏–∫–∞: ~10–º—Å (–∏–∑ CDN) ‚úÖ
- API: ~150-200–º—Å (–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –ï–≤—Ä–æ–ø—ã

```
Client (Europe) ‚Üí CDN EU Node
- index.html (~5–º—Å, –∏–∑ –∫–µ—à–∞ CDN EU)
- CSS/JS/Images (~5–º—Å, –∏–∑ –∫–µ—à–∞ CDN EU)
- API requests ‚Üí API Gateway (~50–º—Å - –±–ª–∏–∂–µ —á–µ–º –∏–∑ –°–®–ê)

–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞! ‚úÖ
```

---

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ CDN

### 1. –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É

**–ë–µ–∑ CDN (–°—Ö–µ–º–∞ 4):**
| –†–µ–≥–∏–æ–Ω | –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ | –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (3MB) |
|--------|---------------------|-------------------------|
| üá∑üá∫ –†–æ—Å—Å–∏—è | 10–º—Å | ~500–º—Å |
| üá∫üá∏ –°–®–ê | 150–º—Å | ~3000–º—Å ‚ùå |
| üá™üá∫ –ï–≤—Ä–æ–ø–∞ | 50–º—Å | ~1200–º—Å ‚ùå |
| üá®üá≥ –ê–∑–∏—è | 200–º—Å | ~4000–º—Å ‚ùå |

**–° CDN (–°—Ö–µ–º–∞ 5):**
| –†–µ–≥–∏–æ–Ω | –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ CDN | –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (3MB) |
|--------|-----------------|-------------------------|
| üá∑üá∫ –†–æ—Å—Å–∏—è | 5–º—Å | ~300–º—Å ‚úÖ |
| üá∫üá∏ –°–®–ê | 10–º—Å | ~350–º—Å ‚úÖ |
| üá™üá∫ –ï–≤—Ä–æ–ø–∞ | 8–º—Å | ~320–º—Å ‚úÖ |
| üá®üá≥ –ê–∑–∏—è | 15–º—Å | ~400–º—Å ‚úÖ |

**–£–ª—É—á—à–µ–Ω–∏–µ: 5-10x –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!**

### 2. –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ origin —Å–µ—Ä–≤–µ—Ä

**–ë–µ–∑ CDN:**
```
1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Üí Origin Server
Origin Server –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
- 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ HTML
- 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ CSS
- 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ JS
- 5000 –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
= 8000 –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ origin —Å–µ—Ä–≤–µ—Ä—É ‚ùå
```

**–° CDN:**
```
1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Üí CDN Nodes
CDN –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
- 999 –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –∫–µ—à–∞ (HIT RATE 99.9%)
- 1 –∑–∞–ø—Ä–æ—Å –∫ origin —Å–µ—Ä–≤–µ—Ä—É (–ø–µ—Ä–≤—ã–π)
= 1 –∑–∞–ø—Ä–æ—Å –∫ origin —Å–µ—Ä–≤–µ—Ä—É ‚úÖ

–°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏: 8000x!
```

### 3. –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –¥–µ–Ω–µ–≥

**–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç—Ä–∞—Ñ–∏–∫–∞:**
- Origin Server bandwidth: $0.10/GB
- CDN bandwidth: $0.01/GB (–≤ 10 —Ä–∞–∑ –¥–µ—à–µ–≤–ª–µ!)

**–ü—Ä–∏–º–µ—Ä:**
- 10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–¥–µ–Ω—å
- 3MB —Å—Ç–∞—Ç–∏–∫–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- 30GB/–¥–µ–Ω—å = 900GB/–º–µ—Å—è—Ü

**–ë–µ–∑ CDN:** 900GB √ó $0.10 = **$90/–º–µ—Å—è—Ü**  
**–° CDN:** 900GB √ó $0.01 = **$9/–º–µ—Å—è—Ü**  
**–≠–∫–æ–Ω–æ–º–∏—è:** $81/–º–µ—Å—è—Ü ($972/–≥–æ–¥) ‚úÖ

### 4. –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫

**CDN –∫–∞–∫ shield:**
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–≥–ª–æ—â–∞–µ—Ç DDoS –∞—Ç–∞–∫–∏
- Origin —Å–µ—Ä–≤–µ—Ä –Ω–µ –≤–∏–¥–µ–Ω –Ω–∞–ø—Ä—è–º—É—é
- Rate limiting –∏ WAF (Web Application Firewall)
- Automatic blocking –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞

### 5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- CDN –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö
- –ù–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
- "Black Friday" –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è CDN ‚úÖ

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### CDN Providers

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
1. **Cloudflare** - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω, 200+ PoP, DDoS –∑–∞—â–∏—Ç–∞
2. **AWS CloudFront** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AWS, 400+ PoP
3. **Akamai** - —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å–µ—Ç—å, enterprise
4. **Fastly** - real-time purge, edge computing

**PoP (Point of Presence)** - —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Å–µ—Ä–≤–µ—Ä—ã CDN –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É.

### Cache Control

**HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
```http
Cache-Control: public, max-age=86400
# –ü—É–±–ª–∏—á–Ω—ã–π –∫–µ—à, 24 —á–∞—Å–∞ (86400 —Å–µ–∫—É–Ω–¥)

Cache-Control: public, max-age=31536000, immutable
# –î–ª—è —Ñ–∞–π–ª–æ–≤ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (styles.v123.css)
# 1 –≥–æ–¥, –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π

Cache-Control: no-cache
# –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (/api/*)
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ nginx (Static Content Server):**
```nginx
location /static/ {
    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã - –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–æ–ª–≥–æ
    add_header Cache-Control "public, max-age=86400";
    
    # –§–∞–π–ª—ã —Å —Ö–µ—à–µ–º –≤ –∏–º–µ–Ω–∏ - –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞
    location ~* \.(css|js|jpg|png|gif|svg|woff|woff2)$ {
        add_header Cache-Control "public, max-age=31536000, immutable";
    }
}

location /api/ {
    # API - –Ω–µ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å
    add_header Cache-Control "no-cache, no-store, must-revalidate";
    proxy_pass http://api-gateway;
}
```

### CDN Configuration

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Cloudflare:**
```yaml
cache:
  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
  /static/*:
    cache_level: aggressive
    edge_cache_ttl: 86400  # 24 hours
    browser_cache_ttl: 3600  # 1 hour
  
  # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
  /static/images/products/*:
    cache_level: aggressive
    edge_cache_ttl: 604800  # 7 days
    polish: lossless  # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  
  # API - –Ω–µ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å
  /api/*:
    cache_level: bypass

security:
  - ddos_protection: enabled
  - waf: enabled
  - rate_limiting: 1000 req/min per IP
  
performance:
  - minify: css, js, html
  - brotli: enabled
  - http2: enabled
  - http3: enabled (QUIC)
```

### Cache Invalidation (Purge)

**–ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–≤–∞—Ä:**
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: Purge –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
curl -X POST "https://api.cloudflare.com/client/v4/zones/{zone_id}/purge_cache" \
  -H "Authorization: Bearer {api_token}" \
  -d '{"files":["https://mobile-world.com/static/images/products/phone1.jpg"]}'

# –í–∞—Ä–∏–∞–Ω—Ç 2: Purge –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
curl -X POST "https://api.cloudflare.com/client/v4/zones/{zone_id}/purge_cache" \
  -d '{"prefixes":["https://mobile-world.com/static/images/products/"]}'

# –í–∞—Ä–∏–∞–Ω—Ç 3: –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–ª—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥)
# –°—Ç–∞—Ä—ã–π —Ñ–∞–π–ª: product-image-v1.jpg
# –ù–æ–≤—ã–π —Ñ–∞–π–ª:  product-image-v2.jpg
# –ù–µ –Ω—É–∂–Ω–æ purge! CDN —Å–∞–º —Å–∫–∞—á–∞–µ—Ç –Ω–æ–≤—ã–π —Ñ–∞–π–ª.
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### CDN Hit Rate

**Hit Rate** = (Cache Hits / Total Requests) √ó 100%

**–•–æ—Ä–æ—à–∏–π Hit Rate:**
- **>90%** –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (CSS/JS/Images) ‚úÖ
- **>80%** –æ–±—â–∏–π Hit Rate ‚úÖ
- **<80%** - –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ ‚ö†Ô∏è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# CloudFlare Analytics API
curl "https://api.cloudflare.com/client/v4/zones/{zone_id}/analytics/dashboard" \
  -H "Authorization: Bearer {api_token}" | jq '.result.timeseries[0].requests'

# –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{
  "cached": 9500,    # –ò–∑ –∫–µ—à–∞
  "uncached": 500,   # –ú–∏–º–æ –∫–µ—à–∞
  "total": 10000
}

Hit Rate = 9500/10000 = 95% ‚úÖ
```

### Bandwidth Savings

**–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ origin —Å–µ—Ä–≤–µ—Ä–∞:**
```
Bandwidth Savings = (1 - 1/Hit_Rate) √ó 100%

–ü—Ä–∏ Hit Rate 95%:
Savings = (1 - 1/0.95) √ó 100% = 94.7%
```

**–ï—Å–ª–∏ –±–µ–∑ CDN –±—ã–ª–æ 1TB/–º–µ—Å—è—Ü:**
- –° CDN: 1TB √ó (1 - 0.947) = 53GB/–º–µ—Å—è—Ü
- –≠–∫–æ–Ω–æ–º–∏—è: 947GB/–º–µ—Å—è—Ü!

### Response Time –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
curl -w "@curl-format.txt" -o /dev/null -s https://mobile-world.com/

# curl-format.txt:
time_namelookup:  %{time_namelookup}\n
time_connect:     %{time_connect}\n
time_starttransfer: %{time_starttransfer}\n
time_total:       %{time_total}\n
```

---

## üéì –ß—Ç–æ —É–∑–Ω–∞–ª–∏

### 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è CDN

- **Edge Locations** - —Å–µ—Ä–≤–µ—Ä—ã CDN —Ä—è–¥–æ–º —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **Origin Server** - –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **Cache Hit/Miss** - –µ—Å—Ç—å –ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –∫–µ—à–µ CDN
- **TTL (Time To Live)** - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–µ—à–∞

### 2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ –∏ –¥–∏–Ω–∞–º–∏–∫–∏

**Static Content (CDN):**
- –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- HTML, CSS, JS, Images, Fonts
- –ú–æ–∂–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–æ–ª–≥–æ

**Dynamic Content (API):**
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- API –æ—Ç–≤–µ—Ç—ã, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ù–µ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –≤ CDN

### 3. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å—Å–µ—Ç–æ–≤

**Best Practice:**
```
–ü–ª–æ—Ö–æ:
/static/styles.css  # CDN –∫–µ—à–∏—Ä—É–µ—Ç –Ω–∞–¥–æ–ª–≥–æ, –∫–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å?

–•–æ—Ä–æ—à–æ:
/static/styles.v123.css  # –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è = –Ω–æ–≤—ã–π —Ñ–∞–π–ª
/static/styles.d41d8cd.css  # –•–µ—à –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
```

**Webpack/Vite –¥–µ–ª–∞—é—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
```javascript
// webpack.config.js
output: {
  filename: '[name].[contenthash].js'
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// app.abc123.js
// app.def456.js (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞)
```

### 4. Edge Computing

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ CDN –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç **–≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ edge**:
- **Cloudflare Workers** - JavaScript –Ω–∞ edge
- **AWS Lambda@Edge** - Lambda —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ CloudFront
- **Fastly Compute@Edge** - WebAssembly –Ω–∞ edge

**–ü—Ä–∏–º–µ—Ä:** –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ origin:
```javascript
// Cloudflare Worker
addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request))
})

async function handleRequest(request) {
  const url = new URL(request.url)
  const country = request.cf.country  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç—Ä–∞–Ω—É
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —è–∑—ã–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  if (country === 'RU') {
    url.pathname = '/static/index-ru.html'
  } else if (country === 'US') {
    url.pathname = '/static/index-en.html'
  }
  
  return fetch(url)
}
```

---

## üìã –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ä–µ–≤—å—é–µ—Ä–∞

### ‚úÖ –ù–∞ —Å—Ö–µ–º–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ:

- [x] **CDN —Å–µ—Ä–≤–∏—Å** - 3 —É–∑–ª–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö (US, EU, Asia)
- [x] **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤** - Client US, Client EU, Client Asia
- [x] **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å CDN** - —Å—Ç—Ä–µ–ª–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫ –±–ª–∏–∂–∞–π—à–µ–º—É CDN —É–∑–ª—É
- [x] **–û—Ç–∫—É–¥–∞ CDN –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç** - —Å—Ç—Ä–µ–ª–∫–∏ –æ—Ç CDN —É–∑–ª–æ–≤ –∫ Static Content Server (origin)
- [x] **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ –∏ –¥–∏–Ω–∞–º–∏–∫–∏**:
  - Static content ‚Üí CDN
  - Dynamic API ‚Üí API Gateway

---

## üîÑ –≠–≤–æ–ª—é—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
–ó–∞–¥–∞–Ω–∏–µ 1 (–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ):
üìã –†–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ 3 –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã

–ó–∞–¥–∞–Ω–∏–µ 2 (–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ):
‚öôÔ∏è 2 —à–∞—Ä–¥–∞ - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–ó–∞–¥–∞–Ω–∏–µ 3 (–†–µ–ø–ª–∏–∫–∞—Ü–∏—è):
üîÑ 3 —Ä–µ–ø–ª–∏–∫–∏ –Ω–∞ —à–∞—Ä–¥ - –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å MongoDB

–ó–∞–¥–∞–Ω–∏–µ 4 (–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ):
üöÄ Redis - —É—Å–∫–æ—Ä–µ–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ 20-30 —Ä–∞–∑

–ó–∞–¥–∞–Ω–∏–µ 5 (API Gateway + Service Discovery):
üåê 3 –∏–Ω—Å—Ç–∞–Ω—Å–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞

–ó–∞–¥–∞–Ω–∏–µ 6 (CDN):
üåç –ì–ª–æ–±–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - CDN —É–∑–ª—ã –≤ 3 —Ä–µ–≥–∏–æ–Ω–∞—Ö
   - –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–∏—Ä–∞
   - –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ origin –≤ 100x —Ä–∞–∑
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

| –°–ª–æ–π | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|------------|
| **CDN Layer** | 3 CDN Nodes (US, EU, Asia) | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç, –≥–ª–æ–±–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ |
| **Origin Layer** | Static Content Server | –ò—Å—Ç–æ—á–Ω–∏–∫ —Å—Ç–∞—Ç–∏–∫–∏ –¥–ª—è CDN |
| **API Gateway Layer** | API Gateway + Consul | –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞, Service Discovery |
| **Application Layer** | 3 √ó pymongo-api | –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ |
| **Cache Layer** | Redis | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –æ—Ç–≤–µ—Ç–æ–≤ |
| **Router Layer** | mongos | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ MongoDB |
| **Metadata Layer** | 3 Config Servers (replica set) | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ |
| **Data Layer** | 2 Shards √ó 3 Replicas | –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |

**–í—Å–µ–≥–æ:** 16 —Å–µ—Ä–≤–∏—Å–æ–≤ + CDN

### –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–∞

```
1. Client (–ª—é–±–æ–π —Ä–µ–≥–∏–æ–Ω) ‚Üí –ë–ª–∏–∂–∞–π—à–∏–π CDN —É–∑–µ–ª
   ‚îú‚îÄ‚Üí Static content (HTML/CSS/JS/Images) ‚Üí CDN Cache ‚Üí Client (fast!)
   ‚îî‚îÄ‚Üí API requests ‚Üí API Gateway (–ú–æ—Å–∫–≤–∞)
       ‚îî‚îÄ‚Üí Service Discovery (Consul)
       ‚îî‚îÄ‚Üí Load Balancing ‚Üí pymongo-api-1/2/3
           ‚îî‚îÄ‚Üí Redis Cache Check
               ‚îú‚îÄ Cache Hit ‚Üí Redis ‚Üí Response (fast!)
               ‚îî‚îÄ Cache Miss ‚Üì
                   ‚îî‚îÄ‚Üí mongos ‚Üí Config Servers (metadata)
                       ‚îî‚îÄ‚Üí Shards (—Å —Ä–µ–ø–ª–∏–∫–∞–º–∏) ‚Üí MongoDB
                           ‚îî‚îÄ‚Üí Response ‚Üí Cache –≤ Redis ‚Üí Client
```

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –ü–æ—Å–ª–µ (–°—Ö–µ–º–∞ 5) | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|----------------|------------------|-----------|
| –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–†–æ—Å—Å–∏—è) | 500–º—Å | 300–º—Å | 1.7x ‚úÖ |
| –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–°–®–ê) | 3000–º—Å | 350–º—Å | **8.6x** ‚úÖ |
| –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ê–∑–∏—è) | 4000–º—Å | 400–º—Å | **10x** ‚úÖ |
| API –∑–∞–ø—Ä–æ—Å—ã (–ø–æ–≤—Ç–æ—Ä–Ω—ã–µ) | 1200–º—Å | 40–º—Å | 30x ‚úÖ |
| Requests/sec (API) | 1 | 300+ | 300x ‚úÖ |

### –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

- ‚úÖ MongoDB: replica sets (automatic failover)
- ‚úÖ Application: 3 –∏–Ω—Å—Ç–∞–Ω—Å–∞ + –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞
- ‚úÖ CDN: —Å–æ—Ç–Ω–∏ —É–∑–ª–æ–≤ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- ‚úÖ Redis: –∫–µ—à (–Ω–µ critical, –Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç)

**–ù–µ—Ç single point of failure!**

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

- ‚úÖ –î–∞–Ω–Ω—ã–µ: –¥–æ–±–∞–≤–∏—Ç—å —à–∞—Ä–¥—ã MongoDB
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç–∞–Ω—Å—ã (auto-discovery)
- ‚úÖ CDN: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Redis: –¥–æ–±–∞–≤–∏—Ç—å Redis Cluster

### –°—Ç–æ–∏–º–æ—Å—Ç—å

**–≠–∫–æ–Ω–æ–º–∏—è:**
- CDN bandwidth: $81/–º–µ—Å—è—Ü
- Origin CPU: 90% –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- –ú–µ–Ω—å—à–µ origin —Å–µ—Ä–≤–µ—Ä–æ–≤ –Ω—É–∂–Ω–æ

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã:**
- CDN: $9/–º–µ—Å—è—Ü (vs $90 –∑–∞ bandwidth)
- Static Content Server: $5/–º–µ—Å—è—Ü (–ø—Ä–æ—Å—Ç–æ–π nginx)

**–ò—Ç–æ–≥–æ: —ç–∫–æ–Ω–æ–º–∏—è ~$80/–º–µ—Å—è—Ü –ø—Ä–∏ –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏!**

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- üé® [diagrams/ARCHITECTURE.md](../diagrams/ARCHITECTURE.md) - –°—Ö–µ–º–∞ 5 —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- üìñ [TASK1_PLANNING.md](TASK1_PLANNING.md) - –æ–±—â–µ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- üåê [TASK5_SUMMARY.md](TASK5_SUMMARY.md) - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ (API Gateway)
- üè† [README.md](../README.md) - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

---

**‚úÖ –ó–∞–¥–∞–Ω–∏–µ 6 (CDN —Å—Ö–µ–º–∞) –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!**

**üåç –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω "–ú–æ–±–∏–ª—å–Ω—ã–π –º–∏—Ä" —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –±—ã—Å—Ç—Ä–æ –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–∏—Ä–∞!**

**–§–∏–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫:**
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (CDN –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö)
- ‚úÖ –í—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ (—à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ + –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ + –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã)
- ‚úÖ –û—Ç–∫–∞–∑–∞–º (—Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö)
- ‚úÖ "–ß–µ—Ä–Ω–æ–π –ø—è—Ç–Ω–∏—Ü–µ" –∏ –ª—é–±—ã–º –ø–∏–∫–æ–≤—ã–º –Ω–∞–≥—Ä—É–∑–∫–∞–º!

**üéä –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ production!**

