### Задание 10. Миграция на Cassandra: модель данных, стратегии репликации и шардирования
Во время «чёрной пятницы» интернет-магазин использовал MongoDB с шардированием на основе диапазонов (Range-Based Sharding). При резком увеличении нагрузки (50 000 запросов/сек.) возникла высокая задержка при масштабировании:

При добавлении новых шардов MongoDB полностью перераспределяла данные между всеми узлами, что вызывало просадку latency в пик нагрузки, так как
система тратила ресурсы на перемещение данных.

Руководство решило перейти на БД Cassandra, чтобы обеспечить:
1. Высокую отказоустойчивость (leaderless‑репликация).
2. Быстрое горизонтальное масштабирование без полного перераспределения данных.
3. Равномерное распределение данных.

### Что нужно сделать

#### Задание 10.1
Определите, какие части данных интернет-магазина (например, заказы, товары, корзины, история заказов, пользовательские сессии) являются критически важными с точки зрения целостности и скорости обработки.

Обоснуйте, для каких именно данных применение Cassandra имеет смысл (учтите требования к масштабируемости, геораспределённости, скорости записи/чтения и целостности данных).

#### Задание 10.2
Разработайте концептуальную модель для выбранных критически важных сущностей.

Определите partition key и кластерные ключи для каждой сущности, объяснив, как они будут обеспечивать равномерное распределение данных и эффективный доступ в условиях экстремальной нагрузки.

Обоснуйте выбор модели с точки зрения возможных «горячих» партиций и минимизации влияния решардинга при изменении топологии кластера.

#### Задание 10.3
Какие стратегии (Hinted Handoff, Read Repair, Anti-Entropy Repair) можно применить для обеспечения целостности данных?
Для каких сущностей вы выберете одну стратегию, а для каких — другую?

Обоснуйте свой выбор с учётом компромиссов между latency запросов и уровнем гарантии согласованности.

### На что будет смотреть ревьюер:
1. Архитектурный документ с описанием сущностей и их первичных ключей, выбранных для переноса в Cassandra.
2. Обоснование их выбора с примерами создания этих таблиц в Cassandra.
3. Обоснование выбора стратегий восстановления целостности данных.
